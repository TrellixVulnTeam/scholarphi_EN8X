/**
 * Move view of PDF page inward when the drawer is open.
 * TODO(andrewhead): Find a way to animate drawer even when left sidebar is open.
 */
.page {
  transition-property: "padding-right";

  &.drawer-open {
    padding-right: @drawer-paper-clipping-width + @margin * 4;
    // A very unfortunate side effect of using padding is that it
    // will distort the border image if the user shrinks the page too much.
    border-image: none;
  }
}

/**
  * Hide default paper citation annotations generated by pdf.js to make the citation tooltip the default behavior.
  */
.linkAnnotation a[href^="#cite"] {
  display: none;
}

/**
 * Remove border boxes added by hyperref, which conflict with our styles. Because pdf.js sets border
 * styles dynamically, the '!important' flag is used to get sufficient precedence to override
 * border styles. See the pdf.js code setting border styles here:
 * https://github.com/mozilla/pdf.js/blob/474fe1757e654e67d20a53774edb293aa073ce0b/src/display/annotation_layer.js#L19
 */
.annotationLayer .linkAnnotation {
  border: none !important;
}

/**
  * Consistent default behavior between pdf.js highlight for tables, figures, etc.
  * and custom purple highlight for citation annotations.
  */
.annotationLayer .linkAnnotation > a {
  border-bottom: @underline-width @underline-color dotted;

  &:hover,
  &.selected {
    background: @highlight-hover-background;
    opacity: @highlight-hover-opacity;
    box-shadow: 0px 2px 10px @highlight-hover-background;
  }
}
